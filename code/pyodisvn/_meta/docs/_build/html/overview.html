

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Documenting ODISVN &mdash; ODISVN 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ODISVN 0.0.1 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">ODISVN 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="documenting-odisvn">
<h1>Documenting ODISVN<a class="headerlink" href="#documenting-odisvn" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="pyodisvn">
<h1>pyODISVN<a class="headerlink" href="#pyodisvn" title="Permalink to this headline">¶</a></h1>
<p>THis is a set of tools / helper scripts that will look at and try and bring the management of ODI across multiple repos under control.s</p>
<p>There are a variety of tools provided in pyODISVN</p>
<ul class="simple">
<li>ODI to TFS cycle</li>
<li>fingerprinting repositories and databases</li>
<li>compare fingerprints</li>
<li>version and release management</li>
<li>source code recovery</li>
</ul>
<p>Groups of Tools</p>
<ul class="simple">
<li>Server - Fingerprint</li>
<li>Server - web based tools</li>
<li>client - extraction and scenario comparison</li>
</ul>
<div class="section" id="subversion-location">
<h2>Subversion location<a class="headerlink" href="#subversion-location" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://stajprrepo01.internal.bupa.co.uk/repos/moi/branches/AutoTestTool/common/ODISVN">http://stajprrepo01.internal.bupa.co.uk/repos/moi/branches/AutoTestTool/common/ODISVN</a></p>
<p>Dependancies:</p>
<ul class="simple">
<li>mx.ODBC - third party package</li>
<li>mikado.common.db - own package, providing simplistic db abstraction</li>
<li>flask - third party OSS package</li>
</ul>
<p>These dependancies are installed on the &#8220;server&#8221; BUPA11X714J
They are also available from the c:downloads of same.</p>
</div>
</div>
<div class="section" id="administration">
<h1>Administration<a class="headerlink" href="#administration" title="Permalink to this headline">¶</a></h1>
<p>The location of the code on server is c:BUPA_DEPLOYpyodisvn</p>
<div class="section" id="fingerprinter">
<h2>Fingerprinter<a class="headerlink" href="#fingerprinter" title="Permalink to this headline">¶</a></h2>
<p>The file run_ODI_fingerprint_repos.bat is called at 3am each day by
Scheduled Tasks in the Server.  This will fill out the TBL_FINGERPRINT
table in fingerprint Oracle database running on the Server.</p>
<p>All passwords are stored (in plain text!!!!) on MOI_user_passwords.py</p>
<p>The fingerprinter is used to compare &#8220;SOURCE CODE&#8221; not Scenarios</p>
<p>It extracts pkg (Package), trt (procedure) and pop (interface) from
the SNP database, rebuilds the SQL underlying each of those, stores
that in local drive as txt files, and runs an md5 hash over the SQL</p>
<p>It takes about 10-12 mins per repo, but with 12+ repos thecycle is 2
hours.  The most likely optimisation is to use LAST_DATE for each
object and only fingerprint objects changed since last run.  THis will
speed up fingerprinting enormously but has not yet happened (Hey -
phase 2).</p>
</div>
<div class="section" id="web-server">
<h2>Web server<a class="headerlink" href="#web-server" title="Permalink to this headline">¶</a></h2>
<p>There is a very very lightweight web server running.
It needs to be daemonised but is currentlly run by me logging into the Server, and double clicking the
file c:BUPA_DEPLOYpyodisvnflaskodi_websvr.py
This needs to be daemonised, but can be run by anyone with same rights as my user.</p>
<p>Visit <a class="reference external" href="http://bupa11x714j:5000">http://bupa11x714j:5000</a> to see the docs for the web services.</p>
<div class="highlight-python"><pre>compare specific names across repos ./comparebyname/MUT001W
This is much more useful. replace "MUT001W" with name of the ODI object you are about to start work on. If there is more than one copy out there, why? Should you be merging their changes to your repo?

compare repo to repo - ./compare/UAT2_WK/DEV3_WK
NB - this needs to be cached daily for now it takes upwards of three minutes to complete a repo compare ... (disabled - too resource intensive for web - see Paul
specific package data - ./package/1379101
NB - this can also take time to build up
Scenario Viewer - see scenario live from a repo scenario/CODE_WORK/BUSINESS_OBJECT_FULFILMENTS
fingerprint viewer - see the current source code fingerprint by name/id fingerprint/SYS2_WK/423007.0/KIM_SWIFT-MOI_TERADATA_INSERT_ALL</pre>
</div>
<div class="section" id="compare-fingerprints">
<h3>compare fingerprints<a class="headerlink" href="#compare-fingerprints" title="Permalink to this headline">¶</a></h3>
<p>Use web server - <a class="reference external" href="http://bupa11x714j:5000/fingerprint/CODE_WORK/2911101.0/OMT_REPORT549">http://bupa11x714j:5000/fingerprint/CODE_WORK/2911101.0/OMT_REPORT549</a></p>
</div>
</div>
<div class="section" id="repo-repo-comparison">
<h2>repo - repo comparison<a class="headerlink" href="#repo-repo-comparison" title="Permalink to this headline">¶</a></h2>
<p>Full across the board comparison</p>
<p>Run on the Server (takes 4mins + )</p>
<p>$ python ODI_compare_lib.py</p>
<p>Change the line LHS, RHS = (&#8216;CODE_WORK&#8217;, &#8216;UAT1_WK&#8217;) to be the repo_names needed</p>
</div>
<div class="section" id="repo-names">
<h2>Repo_names<a class="headerlink" href="#repo-names" title="Permalink to this headline">¶</a></h2>
<p>In MOI_user_passwords, there are dozens of defintions of connections to different databases.
These connections are labelled with a &#8220;name&#8221; variable - and this name variable is used throughout the system as a unique identifier
Just running</p>
<div class="highlight-python"><pre>$ python MOI_user_passwords.py</pre>
</div>
<p>will output the repo_names (see below) and then test the ODI connections.</p>
<p>The names:</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DEV1_WK</td>
</tr>
<tr class="row-even"><td>DEV2_WK</td>
</tr>
<tr class="row-odd"><td>DEV3_WK</td>
</tr>
<tr class="row-even"><td>DEV4_WK</td>
</tr>
<tr class="row-odd"><td>SYS1_WK</td>
</tr>
<tr class="row-even"><td>SYS2_WK</td>
</tr>
<tr class="row-odd"><td>SYS3_WK</td>
</tr>
<tr class="row-even"><td>SYS4_WK</td>
</tr>
<tr class="row-odd"><td>UAT1_WK</td>
</tr>
<tr class="row-even"><td>UAT2_WK</td>
</tr>
<tr class="row-odd"><td>UAT3_WK</td>
</tr>
<tr class="row-even"><td>UAT4_WK</td>
</tr>
<tr class="row-odd"><td>PRODCODE</td>
</tr>
<tr class="row-even"><td>PRODEXE</td>
</tr>
<tr class="row-odd"><td>BUPADEV3</td>
</tr>
<tr class="row-even"><td>FINGERPRINT</td>
</tr>
<tr class="row-odd"><td>CODE_WORK</td>
</tr>
<tr class="row-even"><td>BUPADEVL</td>
</tr>
<tr class="row-odd"><td>BUPADEV4</td>
</tr>
<tr class="row-even"><td>td_dev2_brianp</td>
</tr>
<tr class="row-odd"><td>td_sys3_brianp</td>
</tr>
<tr class="row-even"><td>td_dev4_brianp</td>
</tr>
<tr class="row-odd"><td>td_sys2_brianp</td>
</tr>
<tr class="row-even"><td>td_uat3_brianp</td>
</tr>
<tr class="row-odd"><td>td_devc_brianp</td>
</tr>
<tr class="row-even"><td>td_sysi_brianp</td>
</tr>
<tr class="row-odd"><td>td_devs_brianp</td>
</tr>
<tr class="row-even"><td>td_tt10_brianp</td>
</tr>
<tr class="row-odd"><td>td_uata_brianp</td>
</tr>
<tr class="row-even"><td>td_sysc_brianp</td>
</tr>
<tr class="row-odd"><td>td_uatc_brianp</td>
</tr>
<tr class="row-even"><td>td_prod_brianp</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="view-hierarchy-of-repo-py">
<h2>View_hierarchy_of_repo.py<a class="headerlink" href="#view-hierarchy-of-repo-py" title="Permalink to this headline">¶</a></h2>
<p>This is a throw away</p>
</div>
<div class="section" id="decompilation">
<h2>Decompilation<a class="headerlink" href="#decompilation" title="Permalink to this headline">¶</a></h2>
<p>We want to compare scenarios with scenarios in another repository.
This will help us to <em>baseline</em> our code.</p>
<p>A complete decompilation is a slightly complicted beasst and I will write up how and smooth it out Thursday.
Honest guv.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Documenting ODISVN</a></li>
<li><a class="reference internal" href="#pyodisvn">pyODISVN</a><ul>
<li><a class="reference internal" href="#subversion-location">Subversion location</a></li>
</ul>
</li>
<li><a class="reference internal" href="#administration">Administration</a><ul>
<li><a class="reference internal" href="#fingerprinter">Fingerprinter</a></li>
<li><a class="reference internal" href="#web-server">Web server</a><ul>
<li><a class="reference internal" href="#compare-fingerprints">compare fingerprints</a></li>
</ul>
</li>
<li><a class="reference internal" href="#repo-repo-comparison">repo - repo comparison</a></li>
<li><a class="reference internal" href="#repo-names">Repo_names</a></li>
<li><a class="reference internal" href="#view-hierarchy-of-repo-py">View_hierarchy_of_repo.py</a></li>
<li><a class="reference internal" href="#decompilation">Decompilation</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/overview.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">ODISVN 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Paul Brian &lt;paul@mikadosoftware.com&gt;, Mark Matten &lt;mark.matten@bupa.com&gt; .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>