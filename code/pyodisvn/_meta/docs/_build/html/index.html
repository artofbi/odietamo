

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to ODISVN’s documentation! &mdash; ODISVN 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ODISVN 0.0.1 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">ODISVN 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-odisvn-s-documentation">
<h1>Welcome to ODISVN&#8217;s documentation!<a class="headerlink" href="#welcome-to-odisvn-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="executive-summary">
<h2>Executive Summary<a class="headerlink" href="#executive-summary" title="Permalink to this headline">¶</a></h2>
<p>We are lacking in basic Automated testing, source control and automated build
solutions, and comprehensive code reviews.</p>
<p>We have developed tools to help us achieve this end, and are in process of putting them into place</p>
<p>We have created a means of crytpographically fingerprinting repositories on a per object basis in near-ish realtime, allowing us to version what has been tested, what is being moved from repo to repo.</p>
<p>We have created Java driver for Teradata for dbFit, meaning simple, automated testing is feasible.</p>
<p>We have created means of extracting object by object, code from Repos to enable storage in a real source control environment</p>
</div>
<div class="section" id="useful-links">
<h2>Useful links<a class="headerlink" href="#useful-links" title="Permalink to this headline">¶</a></h2>
<p>WHere much of the stuff is backed up</p>
<p>\\manfs08\p5066-crm-scv\Scrum 2 (Warehouse Crunchers) Stories\SECTA</p>
</div>
<div class="section" id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h2>
<p>H: = \manfs08\P5066-crm-scv
H:\Prod Release CMSR1A\Release Notes\Release_20111006</p>
</div>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>We have 12 ODI repositories, plus one production and one production-code repo.
Production-code is used to store what we <em>think</em> is the code that was used to compile the <em>scenarios</em> on live.</p>
<p>The other 12 are used by the various MOI teams for development purposes.</p>
<div class="highlight-python"><pre>| DEV1_WK | AOETLW_DEV1 |
| DEV2_WK | AOETLW_DEV2 |
| DEV3_WK | AOETLW_DEV3 |
| DEV4_WK | AOETLW_DEV4 |
| SYS1_WK | AOETLW_SYS1 |
| SYS2_WK | AOETLW_SYS2 |
| SYS3_WK | AOETLW_SYS3 |
| SYS4_WK | AOETLW_SYS4 |
| UAT1_WK | AOETLW_UAT1 |
| UAT2_WK | AOETLW_UAT2 |
| UAT3_WK | AOETLW_UAT3 |
| UAT4_WK | AOETLW_UAT4 |
| PRODCODE | AOODIWKCODE |</pre>
</div>
</div>
<div class="section" id="current-release-process">
<h2>Current release process<a class="headerlink" href="#current-release-process" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>A change request is identified</li>
<li>Code is found in a given teams environment, and work is begun on it.
It is usually checked that the code is same in 2 MOI scrum repos.
No attempt is made to check code is same as live, or if being changed in
other repos</li>
<li>code is worked on in the funnel leading up to UAT.  Development is done</li>
</ol>
<p>4. An email release note (see above) is sent to config team (personal mailboxes)
5.</p>
</div>
<div class="section" id="crytographic-fingerprinting">
<h2>Crytographic fingerprinting<a class="headerlink" href="#crytographic-fingerprinting" title="Permalink to this headline">¶</a></h2>
<p>THis was sort of straw to drowning man
I think it is going to be useful (see release notes)
THe problem lies in this:</p>
<div class="highlight-python"><pre>BUILD_PROD
UAT2_WK.hashes trt::1215101.0::BUILD_PROD::ODISVN_V1.0-8bba1492f57122ed039f26178fe7f13d
SYS2_WK.hashes trt::264006.0::BUILD_PROD_BEN_GRP_MEM_SUMMS::ODISVN_V1.0-84dda2605ee5ce0885f3eaa625de633f
PRODCODE.hashes trt::264006.0::BUILD_PROD_BEN_GRP_MEM_SUMMS::ODISVN_V1.0-84dda2605ee5ce0885f3eaa625de633f
DEV2_WK.hashes trt::264006.0::BUILD_PROD_BEN_GRP_MEM_SUMMS::ODISVN_V1.0-84dda2605ee5ce0885f3eaa625de633f
BUPADEV3.hashes trt::264006.0::BUILD_PROD_BEN_GRP_MEM_SUMMS::ODISVN_V1.0-84dda2605ee5ce0885f3eaa625de633f::2011-10-04T19:20:32.012000

--------------------------------------------------------------------------------

BUILD_PROH
UAT2_WK.hashes trt::1245101.0::BUILD_PROH::ODISVN_V1.0-a3a18f1fa9a16401e46aa038091f1f18
SYS2_WK.hashes trt::1245101.0::BUILD_PROH::ODISVN_V1.0-e4f93a30d25f316334f6ae8fd77f1f4b
PRODCODE.hashes trt::1245101.0::BUILD_PROH::ODISVN_V1.0-f9d44f95dc68a221192ef6f378b2d8b1
DEV2_WK.hashes trt::1245101.0::BUILD_PROH::ODISVN_V1.0-58a03a645e751f7d8ce8bb5d6a87fa33
BUPADEV3.hashes trt::1245101.0::BUILD_PROH::ODISVN_V1.0-a3a18f1fa9a16401e46aa038091f1f18::2011-10-04T19:20:17.122000

--------------------------------------------------------------------------------



&lt;&lt;&lt;</pre>
</div>
<p>So BUILD_PROD needs to be moved from DEV2_WK where ravi wrote it into UAT2.
it seems to already have been moved.</p>
<p>but BUILD_PROH is not, but will it conflict with any changes in SYS2_WK that we have been testing against...</p>
<p>I would like to hash across a whole repo.  Its feasible, but with such a mess what does it tell us?</p>
</div>
<div class="section" id="example-as-discussion-point">
<h2>Example as discussion point<a class="headerlink" href="#example-as-discussion-point" title="Permalink to this headline">¶</a></h2>
<p>MUT002W is a <em>package</em></p>
<p>It consists of a multiple &#8220;steps&#8221; executed one after the other:</p>
<div class="highlight-python"><pre>&lt;MUT002W from PRODUCTION CODE REPO&gt;
0.0 - UTL_SCENARIO_SESSION_WRITER
1.0 - BUILD_PATY
2.0 - BUILD_PRTY
3.0 - BUILD_CSTY
4.0 - BUILD_CALE
5.0 - BUILD_ORGA_ORGX
6.0 - BUILD_ADDR_ADDX
7.0 - BUILD_PERS_PERX_1
8.0 - BUILD_PERS_PERX_2
9.0 - BUILD_PERSON_ORPHANS
10.0 - BUILD_PERSON_DELETIONS
11.0 - BUILD_PARO
12.0 - BUILD_PRCD
13.0 - BUILD_PRDE
14.0 - BUILD_PRAD
15.0 - BUILD_PRRE
16.0 - BUILD_COSU
17.0 - BUILD_PRCD_TPS
18.0 - SET_LOAD_VAR_1
19.0 - UTL_SCENARIO_SESSION_PURGER</pre>
</div>
<p>BUILD_PRAD is a Treatment in the package.  It is found in multiple forms thoughout our 12 repos.</p>
<p>MUT002W exists as a scenario in actual live.
The scenario (compiled object) is viewable with the others at \manfs08p5066-crm-scvScrum 2 (Warehouse Crunchers) StoriesSECTA</p>
</div>
<div class="section" id="uat2-wk">
<h2>UAT2_WK<a class="headerlink" href="#uat2-wk" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>DATE           AUTHOR          DESCRIPTION
01-NOV-2010    M. Matten               Renamed step BUILD_UKM_UPD_PRCD_TPS_TELEPHONES to BUILD_PRCD_TPS in line with procedure renaming.
20-JAN-2011            R. Shinde               Added BUILD_ORGA_ORGX in MUT002W from MUT003W as part of WP1 and WP3 (Product Summary) integration
                               This procedure is required to populate parties.
05-AUG-2011    M. Matten               Updated name of step that executes MUBUILD_PARD from BUILD_PRAD to MUBUILD_PARD in line with standards.</pre>
</div>
</div>
<div class="section" id="sys2-wk">
<h2>SYS2_WK<a class="headerlink" href="#sys2-wk" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>DATE           AUTHOR          DESCRIPTION
01-NOV-2010    M. Matten               Renamed step BUILD_UKM_UPD_PRCD_TPS_TELEPHONES to BUILD_PRCD_TPS in line with procedure renaming.
20-01-2011             R. Shinde               Added BUILD_ORGA_ORGX in MUT002W from MUT003W as part of WP1 and WP3 (Product Summary) integration
                               This procedure is required to populate parties
21/09/2011             Rohit Singh             Added column Intermediary Reference Number In party_roles table(PBI 17920)


&lt;&lt;&lt;</pre>
</div>
</div>
<div class="section" id="scenario-mut002w-from-production-code-repo">
<h2>Scenario MUT002W from PRODUCTION CODE REPO<a class="headerlink" href="#scenario-mut002w-from-production-code-repo" title="Permalink to this headline">¶</a></h2>
<p>\\manfs08\p5066-crm-scv\Scrum 2 (Warehouse Crunchers) Stories\SECTA\ODI Scen from Code Repo\SCEN_MUT002W Version 005.xml</p>
<div class="highlight-python"><pre>DATE           AUTHOR          DESCRIPTION
01-NOV-2010    M. Matten               Renamed step BUILD_UKM_UPD_PRCD_TPS_TELEPHONES to BUILD_PRCD_TPS in line with procedure renaming.
20-01-2011             R. Shinde               Added BUILD_ORGA_ORGX in MUT002W from MUT003W as part of WP1 and WP3 (Product Summary) integration
                               This procedure is required to populate parties


&lt;&lt;&lt;</pre>
</div>
</div>
<div class="section" id="scenario-mut002w-from-production-live-repo">
<h2>Scenario MUT002W from PRODUCTION LIVE REPO<a class="headerlink" href="#scenario-mut002w-from-production-live-repo" title="Permalink to this headline">¶</a></h2>
<p>\\manfs08\p5066-crm-scv\Scrum 2 (Warehouse Crunchers) Stories\SECTA\ODI Scens Prod\MUT002W.xml</p>
<div class="highlight-python"><pre>DATE           AUTHOR          DESCRIPTION
01-NOV-2010    M. Matten               Renamed step BUILD_UKM_UPD_PRCD_TPS_TELEPHONES to BUILD_PRCD_TPS in line with procedure renaming.
20-JAN-2011            R. Shinde               Added BUILD_ORGA_ORGX in MUT002W from MUT003W as part of WP1 and WP3 (Product Summary) integration
                                This procedure is required to populate parties.
05-AUG-2011    M. Matten               Updated name of step that executes MUBUILD_PARD from BUILD_PRAD to MUBUILD_PARD in line with standards.

&lt;&lt;&lt;</pre>
</div>
<p>So, we pushed direct from UAT2 into production, using a scenario pre compiled, then not followed up with the right code.
But we now risk pushing from SYS2 into UAT2 and overwriting the changes !</p>
<p>So how much more often are we doing this - is there a way to see what treatments made up a package which became a scenario
This is both hard, and even if we do, all we can do is prove that % of the production code is not compilable to scenario code.</p>
</div>
<div class="section" id="total-number-of-versions-being-looked-at">
<h2>Total number of versions being looked at<a class="headerlink" href="#total-number-of-versions-being-looked-at" title="Permalink to this headline">¶</a></h2>
<p>We have 3260 distinct named emodules/objects (limited to packages, interfaces and treatments) across our 12 ODI repos.
Of these 2828 are commonly named.</p>
<p>However, we can uniquely fingerprint the code objects, giving a version number to each.</p>
<p>We have 2828 file names that are in every repo, and 3260 filenames in total, making 432 files to possibly throw
(see attached txt files)
We have 2992 versions of the above files, and 3741 versions in total</p>
<p>For just Prod and UAT2_WK We have 2832 file names that are in every repo, and 3004 filenames in total, making 172 files to possibly throw
however, if we looked at obvious junk files, with this regex(&#8220;_d+$&#8221;) matching things like &#8216; POP_ERP_CORP_SUBSCRIBER_OP_2100223&#8217; we can remove
311 files.</p>
<p>ROughly speaking 2500 module names co-exist everywhere, with 5% of them having different versions.</p>
<p>But ...</p>
<p>A different way <em>might</em> be to decompile the scenarios from Production, and so we would have the code objects and then might be able to build</p>
<p>OKI have written  decompiler of sorts for the ODI scenarios
It works in limited circumstances, and is in F:repos
It correctly fingerprints code out of the scenario, doing translation as needed.
THen it can be used to compare against existing Production code in the prod repo.</p>
<p>Its not very reassuring on md5 hashes</p>
<p>But it could beused for diff&#8217;ing too, so we do have a way to go from scenraios back to code</p>
<p>Tools</p>
<ul class="simple">
<li>hash based fingerprinting</li>
<li>search for single named module across all repos</li>
</ul>
</div>
<div class="section" id="misc">
<h2>Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://stackoverflow.com/questions/7193727/running-jython-in-oracle-data-integrator-odi-how-do-i-access-the-odi-packages">http://stackoverflow.com/questions/7193727/running-jython-in-oracle-data-integrator-odi-how-do-i-access-the-odi-packages</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to ODISVN&#8217;s documentation!</a><ul>
<li><a class="reference internal" href="#executive-summary">Executive Summary</a></li>
<li><a class="reference internal" href="#useful-links">Useful links</a></li>
<li><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#current-release-process">Current release process</a></li>
<li><a class="reference internal" href="#crytographic-fingerprinting">Crytographic fingerprinting</a></li>
<li><a class="reference internal" href="#example-as-discussion-point">Example as discussion point</a></li>
<li><a class="reference internal" href="#uat2-wk">UAT2_WK</a></li>
<li><a class="reference internal" href="#sys2-wk">SYS2_WK</a></li>
<li><a class="reference internal" href="#scenario-mut002w-from-production-code-repo">Scenario MUT002W from PRODUCTION CODE REPO</a></li>
<li><a class="reference internal" href="#scenario-mut002w-from-production-live-repo">Scenario MUT002W from PRODUCTION LIVE REPO</a></li>
<li><a class="reference internal" href="#total-number-of-versions-being-looked-at">Total number of versions being looked at</a></li>
<li><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">ODISVN 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Paul Brian &lt;paul@mikadosoftware.com&gt;, Mark Matten &lt;mark.matten@bupa.com&gt; .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>